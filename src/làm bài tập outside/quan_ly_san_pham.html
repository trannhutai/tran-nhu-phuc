<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" id="addString" placeholder="Enter product name" maxlength="10" oninput="check123()" >
<button onclick="addString1()" >add</button>
</br>
<p id="error" style="color: red"></p>
</br>
<p id="enter"></p>
</br>
<p id="result"></p>
<p id="index"></p>
<script>
    class String1{
        constructor(STT,Name,Edit,Delete) {
            this.STT=STT;
            this.Name=Name;
            this.Edit=Edit;
            this.Delete=Delete;
        }
        setSTT(STT){
            this.STT=STT;
        }
        setName(Name){
            this.Name=Name;
        }
        setEdit(Edit){
            this.Edit=Edit;
        }
        setDelete(Delete){
            this.Delete=Delete
        }
        getSTT(){
           return  this.STT;
        }
        getName(){
           return  this.Name;
        }
        getEdit(){
          return   this.Edit;
        }
        getDelete(){
           return  this.Delete;
        }
    }
    let product1=[]
    let string1=new String1("1","SamSung","Edit","Delete")
    let string2=new String1("2","Nokia","Edit","Delete")
    let string3=new String1("3","Iphone","Edit","Delete")
    product1.push(string1,string2,string3)
    Display(product1)
    function Display(id){
        let tableString='<table border="1">\n' +
            '    <tr>\n' +
            '        <th>STT</th>\n' +
            '        <th>Name</th>\n' +
            '        <th>Edit</th>\n' +
            '        <th>Delete</th>\n' +
            '    </tr>\n'
        for (let i = 0; i < id.length; i++) {
            tableString+='    <tr>\n' +
                '        <th>'+ id[i].getSTT('+ i +') +'</th>\n' +
                '        <th>'+ id[i].getName()+'</th>\n' +
                '        <th><button onclick="editString1()">'+ id[i].getEdit()+'</button></th>\n' +
                '        <th><button onclick="deleteString()">'+ id[i].getDelete()+'</button></th>\n' +
                '    </tr>'
        }
        tableString+='</table>'
        document.getElementById("result").innerHTML=tableString
        document.getElementById("index").innerHTML="số lượng là : "+product1.length
    }
    function addString1(){
        let add1 = document.getElementById("addString").value;
        if(add1!==""){
            let newString = new String1((product1.length + 1).toString(), add1, "Edit", "Delete");
            product1.push(newString);
        }else{
            alert("Please enter a product name.")
        }
        Display(product1)
    }
    let index=-1
    function editString1(){
        let a =prompt("Enter Name to Change!!!")
        for (let i = 0; i <product1.length ; i++) {
            if(product1[i].getName()===a){
                index=i
            }
        }
        document.getElementById("enter").innerHTML='' +
            '<input type="text" id="enter1" placeholder="Enter STT" maxlength="10" oninput="check123()">\n' +
            '<input type="text" id="enter2" placeholder="Enter Name" maxlength="10" oninput="check123()">\n' +
            '<input type="text" id="enter3" placeholder="Enter Edit" maxlength="10" oninput="check123()">\n' +
            '<input type="text" id="enter4" placeholder="Enter Delete" maxlength="10" oninput="check123()">'+
            '</br>'+
            '</br>'+
            '<button onclick="edit()">edit</button>'
    }
    function edit(){
        let STT=document.getElementById("enter1").value;
        let Name=document.getElementById("enter2").value;
        let Edit=document.getElementById("enter3").value;
        let Delete=document.getElementById("enter4").value;
        product1[index].setSTT(STT);
        product1[index].setName(Name);
        product1[index].setEdit(Edit);
        product1[index].setDelete(Delete);
        Display(product1)
    }
    function deleteString(id){
        let conf=confirm("Enter Delete")
        if(conf){
            product1.splice(id,1)
        }
        Display(product1)
    }
    function check123(){
        let a=document.getElementById("addString").value
        if(a.length>=9){
            document.getElementById("error").innerHTML="nhập tối thiểu 10 ký tự"
        }
    }

</script>
</body>
</html>